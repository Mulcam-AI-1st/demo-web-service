<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.teamproject.demo.dao.HealthyDietDAO">

	<select id="selectAllArticle" resultType="HealthyDietVO">

 			<![CDATA[
 					SELECT
					    hd.idx,
					    cd.value as categoryid,
					    hd.title,
					    hd.contents,
					    hd.imageurl,
					    hd.postdate,
					    hd.modifydate
					    
					FROM
					    jtb_healthydiet_main hd,
					    jtb_code cd
					Where hd.categoryid = cd.code
					  and cd.category='diet_division'
					    
					Order by  POSTDATE desc
 			  ]]>
            
     </select>


	<select id="selectArticleById" parameterType="String" resultType="HealthyDietVO">
			
			<![CDATA[
 					SELECT
					    hd.idx,
					    cd.value as categoryid,
					    hd.title,
					    hd.contents,
					    hd.imageurl,
					    hd.postdate,
					    hd.modifydate,
					    hd.NUTRIENTS
					    
					FROM
					    jtb_healthydiet_main hd,
					    jtb_code cd
					Where hd.categoryid = cd.code
					  and cd.category='diet_division'
					  and hd.idx=#{idx}
 			  ]]>
	
	</select>
	
	<select id="selectArticleDetailById" parameterType="String" resultType="HealthyDietDetailVO">
			
			<![CDATA[
 					SELECT
				    hd.idx,
				    hd.compositionno,
				    hd.cid,
				    hc.title,
				    hc.recipe,
				    hc.ingredients
				FROM
				    jtb_healthydiet_detail hd,
				    jtb_healthydiet_compositions hc
			    where     
			    	hd.cid = hc.cid
			    	and hd.idx=#{idx}
			    order by hd.COMPOSITIONNO
 			  ]]>
	
	</select>
	
	
	
	

</mapper>